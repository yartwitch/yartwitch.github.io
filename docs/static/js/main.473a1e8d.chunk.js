(this["webpackJsonpyar-chalange"]=this["webpackJsonpyar-chalange"]||[]).push([[0],{13:function(e,t,a){e.exports=a(26)},23:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=(a(18),a(19),a(23),a(1)),l=a(2),o=a(4),u=a(3),h=(a(24),a(11)),m=a(12),v=a(8),d=a(5),f=a.n(d),p=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"splitTableArray",value:f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.split("\n"),n=[],r=0;case 3:if(!(r<a.length)){e.next=15;break}if(!a[r].trim()){e.next=8;break}n.push(a[r].split("\t")),e.next=12;break;case 8:if(!(n.length>0)){e.next=11;break}return e.next=11,n;case 11:n=[];case 12:r++,e.next=3;break;case 15:if(!(n.length>0)){e.next=18;break}return e.next=18,n;case 18:case"end":return e.stop()}}),e)}))},{key:"fetchText",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:0,n="https://docs.google.com/spreadsheet/pub?hl=en_US&hl=en_US&key=".concat(t,"&single=true&gid=").concat(a,"&output=txt&_ts=").concat((new Date).getTime()),e.next=4,fetch("".concat(n,"&_ts=").concat((new Date).getTime()));case 4:return r=e.sent,e.next=7,r.text();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTablesAsync",value:function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,c=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,t.next=3,e.fetchText(a,n);case 3:return r=t.sent,t.abrupt("return",Array.from(e.splitTableArray(r)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),b=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"parseTemplate",value:function(t){var a=e.parseTag(t);if(!a)return t;switch(a.tag){case"a":return e.createLink(a);case"img":return e.createImg(a);default:return t}}},{key:"parseTag",value:function(e){var t=e.match(/!\[(.*)\]\((.*)\)/);return t?{tag:t[1],attr:t[2].split(",").map((function(e){return e.split("=")}))}:null}},{key:"createImg",value:function(t){var a=e.getAttributeValue(t.attr,"src");return r.a.createElement("img",{className:"mt-3 mb-3",src:a,alt:""})}},{key:"createLink",value:function(t){var a=e.getAttributeValue(t.attr,"href"),n=e.getAttributeValue(t.attr,"txt"),c=e.getAttributeValue(t.attr,"target");return r.a.createElement("a",{href:a,target:c},n||a)}},{key:"getAttributeValue",value:function(e,t){if(!e)return"";var a=e.filter((function(e){return e[0]===t}));return a&&0!==a.length&&0!==a[0].length?a[0][1]:""}}]),e}(),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).isLoadCalled=!1,n.state={isActive:e.isActive,text:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"FALSE"!==this.props.isActive&&this.load()}},{key:"componentWillReceiveProps",value:function(e){e.isActive!==this.state.isActive&&(this.setState({isActive:e.isActive}),"TRUE"===e.isActive&&this.load())}},{key:"load",value:function(){var e=this;this.isLoadCalled||(this.isLoadCalled=!0,p.fetchText(this.props.documentId,this.props.sheetId).then((function(t){return e.setState({text:t})})))}},{key:"render",value:function(){return this.state.text.split("\n").map((function(e){return b.parseTemplate(e)})).map((function(e,t){return r.a.createElement("div",{key:t},e)}))}}]),a}(r.a.Component),k=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).state={isLoaded:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("table",{className:"table table-sm table-dark table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.data[0].map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,this.props.data.slice(1).map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(e,t){return r.a.createElement("td",{key:t},e)})))}))))}}]),a}(r.a.Component),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).isLoadCalled=!1,n.state={isActive:e.isActive,tables:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"FALSE"!==this.props.isActive&&this.load()}},{key:"componentWillReceiveProps",value:function(e){e.isActive!==this.state.isActive&&(this.setState({isActive:e.isActive}),"TRUE"===e.isActive&&this.load())}},{key:"load",value:function(){var e=this;this.isLoadCalled||(this.isLoadCalled=!0,p.fetchTablesAsync(this.props.documentId,this.props.sheetId).then((function(t){return e.setState({tables:t})})))}},{key:"render",value:function(){return this.state.tables.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(k,{data:e}),r.a.createElement("hr",null))}))}}]),a}(r.a.Component),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).state={sheets:e.sheets},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.sheets!==this.state.sheets&&this.setState({sheets:e.sheets})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist"},this.state.sheets.map((function(t,a){return r.a.createElement("li",{key:a,className:"nav-item",role:"presentation"},r.a.createElement("a",{className:"nav-link ".concat("TRUE"===t.isActive?"active":""," ").concat("TRUE"===t.isDisabled?"disabled":""),id:"link-".concat(t.id),"data-toggle":"pill",href:"#pills-".concat(t.id),role:"tab",onClick:function(){return e.onSheetClicked(t)}},t.name))}))),r.a.createElement("div",{className:"tab-content",id:"pills-tabContent"},this.state.sheets.map((function(t,a){return r.a.createElement("div",{key:a,className:"tab-pane fade ".concat("TRUE"===t.isActive?"show active":""," ").concat(t.cssClass),id:"pills-".concat(t.id),role:"tabpanel"},e.getTemplate(t))}))))}},{key:"onSheetClicked",value:function(e){var t,a=Object(m.a)(this.state.sheets),n=Object(h.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isActive=r.id===e.id?"TRUE":"FALSE"}}catch(c){n.e(c)}finally{n.f()}this.setState({sheets:a})}},{key:"getTemplate",value:function(e){return"TableSet"===e.sheetType.trim()?r.a.createElement(g,{documentId:this.props.documentId,sheetId:e.tabId,isActive:e.isActive}):"Content"===e.sheetType.trim()?r.a.createElement(y,{documentId:this.props.documentId,sheetId:e.tabId,isActive:e.isActive}):r.a.createElement("p",null,"Unable to load....")}},{key:"buildSheets",value:function(e){this.setState({sheets:this.convertTableToObjectArray(e[1])})}},{key:"convertTableToObjectArray",value:function(e){if(!e||e.length<=1)return[];for(var t=[],a=e[0],n=1;n<e.length;n++){for(var r={},c=0;c<a.length;c++)r[a[c].trim()]=e[n][c];t.push(r)}return t}}]),a}(r.a.Component),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={settings:{header:"",headerImg:"",prizePool:""},sheets:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.fetchTablesAsync("1rysFoH2wGvRTXOcq0kty6dNOmTY8ZEj71AgQOaXxcwk").then((function(t){return e.setState({settings:e.convertTableToObject(t[0]),sheets:e.convertTableToObjectArray(t[1])})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"m-4"},this.state.settings.header)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"prize-pool text-center"},r.a.createElement("div",{className:"hl"},"Prize Pool"),r.a.createElement("div",{style:{fontSize:"1.6em",fontFamily:"Verdana,sans-serif"}},this.state.settings.prizePool))))),r.a.createElement("div",{style:{maxHeight:350},className:"h-25 overflow-hidden"},r.a.createElement("img",{src:this.state.settings.headerImg,className:"w-100",alt:""})),r.a.createElement("div",{className:"container mt-4"},r.a.createElement(E,{documentId:"1rysFoH2wGvRTXOcq0kty6dNOmTY8ZEj71AgQOaXxcwk",sheets:this.state.sheets})))}},{key:"convertTableToObject",value:function(e){if(!e)return{};for(var t={},a=0;a<e.length;a++)t[e[a][0].trim()]=e[a][1].trim();return t}},{key:"convertTableToObjectArray",value:function(e){if(!e||e.length<=1)return[];for(var t=[],a=e[0],n=1;n<e.length;n++){for(var r={},c=0;c<a.length;c++)r[a[c].trim()]=e[n][c];t.push(r)}return t}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.473a1e8d.chunk.js.map